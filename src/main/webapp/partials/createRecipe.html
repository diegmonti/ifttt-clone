<div class="alert alert-danger" data-ng-show="error">
    {{errorMessage}}
</div>

<!-- title -->
<div class="row">
    <input type="text" class="form-control form-control-lg col-lg-6" placeholder="Titolo della ricetta" data-ng-model="recipe.title" required="true"/>
</div>

<div class="row">
  <div class='col-lg-4 col-lg-offset-4'>
    <span>if</span>
    <span id="triggerDiv">
       <button data-ng-click="controller.selectTriggerClicked()" class="btn btn-link"> This </button>
    </span>
    <span> then </span>
    <span id="actionDiv">
      that
    </span>
  </div>
</div>

<div id="channlelTriggersDiv" class="container">
  <ol class="breadcrumb" data-ng-show="triggerChannels.length != 0">
    <li class="active">Trigger Channes</li>
  </ol>
<div>
  <div class="card col-lg-3 col-lg-offset-1" data-ng-repeat="channel in triggerChannels" data-ng-click="controller.channelSelected(channel.id)">
    <img class="card-img-top" data-ng-src={{channel.link}} alt={{channel.title}} width="110px">
    <div class="card-block">
      <h4 class="card-title">{{channel.title}}</h4>
    </div>
  </div>
</div>
</div>

<div id="triggerChoicesDiv" class="container">
  <ol class="breadcrumb" data-ng-show="triggers.length != 0">
    <li class="active">Triggers</li>
  </ol>
  <!-- Put here the choices -->
  <div class="card col-lg-5 col-lg-offset-1" data-ng-repeat="trigger in triggers" data-ng-click="controller.triggerSelected(trigger.method, trigger.title)">
    <div class="card-block">
      <h4 class="card-title">{{trigger.title}}</h4>
      <p class="card-text">{{trigger.description}}</p>
    </div>
  </div>
</div>

<div>
  <ol class="breadcrumb" data-ng-show="recipe.recipeTriggerFields">
    <li class="active">Trigger fields</li>
  </ol>
  <div id="triggerFieldsDiv"></div>
</div>
<div id="triggerFieldsHeaderDiv"></div>

<br />

<div id="channlelActionsDiv" class="container">
  <ol class="breadcrumb" data-ng-show="actionChannels.length != 0">
    <li class="active">Action channels</li>
  </ol>

  <div class="card col-lg-3 col-lg-offset-1" data-ng-repeat="channel in actionChannels" data-ng-click="controller.channelSelected(channel.id)">
    <img class="card-img-top" data-ng-src={{channel.link}} alt={{channel.title}} width="110px">
    <div class="card-block">
      <h4 class="card-title">{{channel.title}}</h4>
    </div>
  </div>
</div>


<div id="actionsChoicesDiv" class="container">
  <ol class="breadcrumb" data-ng-show="actions.length != 0">
    <li class="active">Channel actions</li>
  </ol>

  <div class="card col-lg-5 col-lg-offset-1" data-ng-repeat="action in actions" data-ng-click="controller.actionSelected(action.method, action.title)">
    <div class="card-block">
      <h4 class="card-title">{{action.title}}</h4>
      <p class="card-text">{{action.description}}</p>
    </div>
  </div>
</div>

<div class="container">
  <ol class="breadcrumb" data-ng-show="recipe.recipeActionFields">
    <li class="active">Action fields</li>
  </ol>
  <div id="actionFieldsDiv"></div>
</div>


<div id='confirmDiv' class="row"> </div>

<div class="modal fade" id='ingredientsModal'>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Ingredients</h4>
      </div>
      <div class="modal-body row">
        <select class="col-lg-offset-1" ng-model = 'selectedIngredient'>
          <option data-ng-repeat='ingredient in recipe.trigger.ingredients' value={{ingredient.name}}>{{ingredient.name}}</option>
        </select>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-ng-click="controller.insertIngredient()">Insert</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
