<div class="alert alert-danger" data-ng-show="error">
    {{errorMessage}}
</div>

<!-- centered button to create recipes -->
<div class="row">
  <a class="btn btn-primary col-lg-4 col-lg-offset-4" href="#/createRecipe">Create a new recipe</a>
</div>
<hr />

<div data-ng-repeat="recipe in recipes">
<div class="row">
  <div class="col-lg-7">
    <div class="row">
      <h1 style="display:inline"> if </h1>
      <span>
        <img data-ng-src={{recipe.triggerChannelImage}} style="height:110px"/>
      </span>
      <h1 style="display:inline"> then </h1>
      <span>
      	<img data-ng-src={{recipe.actionChannelImage}} style="height:110px"/>
      </span>
    </div>
    <br/>
    <div class="row"><h3>{{recipe.title}}</h3></div>
  </div>

  <div class="col-lg-5">
    <div class="row">
      <button class="btn btn-secondary" data-ng-show="recipe.active" data-ng-click="controller.turnRecipeOnOff(recipe.id)">
        <i class="fa fa-toggle-on fa-2x" aria-hidden="true"></i>
      </button>
      <button class="btn btn-secondary" data-ng-show="!recipe.active" data-ng-click="controller.turnRecipeOnOff(recipe.id)">
        <i class="fa fa-toggle-off fa-2x" aria-hidden="true"></i>
      </button>
      <button class="btn btn-secondary" data-ng-click="controller.modifyRecipe(recipe.id)">
        <i class="fa fa-pencil fa-2x" aria-hidden="true"></i>
      </button>
      <button class="btn btn-secondary" data-ng-click="controller.selectRecipe(recipe.id)">
        <i class="fa fa-trash fa-2x" aria-hidden="true"></i>
      </button>
      <button class="btn btn-secondary" data-ng-click="controller.publishRecipe(recipe.id)">
        <i class="fa fa-share-square-o fa-2x" aria-hidden="true"></i>
      </button>
      <button class="btn btn-secondary" data-ng-click="controller.showLog(recipe.id)">
        <i class="fa fa-list fa-2x" aria-hidden="true"></i>
      </button>
    </div>
    <br />
    <div class="row">Created on {{recipe.created}}</div>
    <div class="row">Last run on {{recipe.lastRun}}</div>
    <div class="row">Run {{recipe.timesRun}} times</div>
  </div>
</div>
<div class="row">
<hr />
</div>

</div>

<a href="" data-toggle="modal" data-target="#deleteRecipeModal" id="deleteRecipeModalShower"></a>
<div class="modal fade" id="deleteRecipeModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Delete recipe</h4>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this recipe?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" data-ng-click="controller.deleteRecipe(selectedRecipe)">Delete</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
